<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_transform_entry">
    <sys_transform_entry action="INSERT_OR_UPDATE">
        <choice_action>ignore</choice_action>
        <coalesce>false</coalesce>
        <coalesce_case_sensitive>false</coalesce_case_sensitive>
        <coalesce_empty_fields>false</coalesce_empty_fields>
        <date_format>yyyy-MM-dd HH:mm:ss</date_format>
        <map display_value="CDM Account Location Rel TM">ece11bd083190210fa2ac8a6feaad3ef</map>
        <reference_value_field/>
        <source_field>[Script]</source_field>
        <source_script><![CDATA[answer = (function transformEntry(source) {
	//return '147ce810c3a122003a657bfaa2d3ae40,937ce810c3a122003a657bfaa2d3ae4e,7e63813023470110766713d1d7bf65db';
	
	var aryTypes = [];
	var types = new GlideRecord('cmn_location_type');
	types.query();
	
	while (types.next()) {
		var objType = {
			name: types.name+'',
			sys_id: types.sys_id+''
		};

		aryTypes.push(objType);
	}
	
	var typeIds = '';
	var siteUseType = source.siteusetype.split(';');
	
	for (var i = 0; i < siteUseType.length; i++) {
		if (siteUseType[i].toLowerCase() == 'primary_bill_to')
			typeIds += (i == 0 ? '' : ',') + getId('Billing');
		else if (siteUseType[i].toLowerCase() == 'primary_deliver_to')
			typeIds += (i == 0 ? '' : ',') + getId('Mailing');
		else if (siteUseType[i].toLowerCase() == 'primary_ship_to')
			typeIds += (i == 0 ? '' : ',') + getId('Shipping');
	}
	
	return typeIds;
	
	function getId(typeName) {
		for (var i = 0; i < aryTypes.length; i++) {
			if (aryTypes[i].name == typeName)
				return aryTypes[i].sys_id;
		}
	}
	
})(source);]]></source_script>
        <source_table>x_77271_csm_integr_cdm_account_location_rel_data</source_table>
        <sys_class_name>sys_transform_entry</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2024-03-28 18:05:58</sys_created_on>
        <sys_id>98b2935483190210fa2ac8a6feaad322</sys_id>
        <sys_mod_count>20</sys_mod_count>
        <sys_name>[Script]</sys_name>
        <sys_package display_value="CSM Integrations" source="x_77271_csm_integr">83c8bf418301ca10fa2ac8a6feaad344</sys_package>
        <sys_policy/>
        <sys_scope display_value="CSM Integrations">83c8bf418301ca10fa2ac8a6feaad344</sys_scope>
        <sys_update_name>sys_transform_entry_98b2935483190210fa2ac8a6feaad322</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2024-03-29 14:44:15</sys_updated_on>
        <target_field>type</target_field>
        <target_table>account_address_relationship</target_table>
        <use_source_script>true</use_source_script>
    </sys_transform_entry>
</record_update>
